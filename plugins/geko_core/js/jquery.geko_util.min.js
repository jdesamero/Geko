(function($){$.toJSON=function(e){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(e);var t=typeof e;if(e===null)return"null";if(t=="undefined")return undefined;if(t=="number"||t=="boolean")return e+"";if(t=="string")return $.quoteString(e);if(t=="object"){if(typeof e.toJSON=="function")return $.toJSON(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1;if(n<10)n="0"+n;var r=e.getUTCDate();if(r<10)r="0"+r;var i=e.getUTCFullYear();var s=e.getUTCHours();if(s<10)s="0"+s;var o=e.getUTCMinutes();if(o<10)o="0"+o;var u=e.getUTCSeconds();if(u<10)u="0"+u;var a=e.getUTCMilliseconds();if(a<100)a="0"+a;if(a<10)a="0"+a;return'"'+i+"-"+n+"-"+r+"T"+s+":"+o+":"+u+"."+a+'Z"'}if(e.constructor===Array){var f=[];for(var l=0;l<e.length;l++)f.push($.toJSON(e[l])||"null");return"["+f.join(",")+"]"}var c=[];for(var h in e){var p;var t=typeof h;if(t=="number")p='"'+h+'"';else if(t=="string")p=$.quoteString(h);else continue;if(typeof e[h]=="function")continue;var d=$.toJSON(e[h]);c.push(p+":"+d)}return"{"+c.join(", ")+"}"}};$.evalJSON=function(src){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(src);return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(src);var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");else throw new SyntaxError("Error parsing JSON, source is not valid.")};$.quoteString=function(e){if(e.match(_escapeable)){return'"'+e.replace(_escapeable,function(e){var t=_meta[e];if(typeof t==="string")return t;t=e.charCodeAt();return"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16)})+'"'}return'"'+e+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var assertBool=function(e){if("boolean"==typeof e){return e}else if("number"==typeof e){return e?true:false}else if("string"==typeof e){return parseInt(e)?true:false}return e};$.fn.outerHTML=function(){if(this.length>0){return $("<div>").append(this.eq(0).clone()).html()}return""};$.fn.gekoGetAsHtml=function(e){var t=$.extend({inner:false,content:false},e);if(t.content)t.inner=true;var n=$(this);n.removeClass("ui-tab-template");var r=t.inner?n.html():n.outerHTML();if(t.content){n.html("")}else{n.remove()}r=r.replace("%7B","{").replace("%7D","}");return r};$.fn.getTagName=function(){if(this.length>0){return this.eq(0).prop("tagName").toLowerCase()}return""};$.fn.setFormElemVal=function(e){return this.each(function(){var t=$(this);var n=t.getTagName();var r=t.attr("type");if("input"==n){if("checkbox"==r||"radio"==r){if(assertBool(e)){t.attr("checked","checked")}else{t.removeAttr("checked")}}else{t.val(e)}}else if("option"==n){if(assertBool(e)){t.attr("selected","selected")}else{t.removeAttr("selected")}}else if("select"==n||"textarea"==n){t.val(e)}else{t.html(e)}})};$.fn.getFormElemVal=function(){var e=this;var t=e.getTagName();var n=e.attr("type");if("input"==t){if("checkbox"==n||"radio"==n){return e.is(":checked")?e.val():""}return e.val()}else if("option"==t){return e.is(":selected")?e.val():""}else if("select"==t||"textarea"==t){return e.val()}return e.html()};$.fn.resetSelOpts=function(){return this.each(function(){var e=$(this);if("select"==e.getTagName()){if(e.data("selectHtml")){e.data("selectHtml",null)}}})};$.fn.showSelOpts=function(e){return this.each(function(){var t=$(this);if("select"==t.getTagName()){if(!t.data("selectHtml")){var n=t.outerHTML();t.data("selectHtml",n)}var r=$(t.data("selectHtml"));var i=t.val();t.html("");r.find(e).each(function(){t.append($(this))});t.val(i)}})};$.gekoRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};$.gekoRadToDeg=function(e){return e*180/Math.PI};$.gekoDegToRad=function(e){return e*Math.PI/180};$.gekoMath={vals:{e:Math.E,pi:Math.PI,sqrt2:Math.SQRT2,sqrt1_2:Math.SQRT1_2,ln2:Math.LN2,ln10:Math.LN10,log2e:Math.LOG2E,log10e:Math.LOG10E,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,pi1_2:Math.PI/2,radians:Math.PI/180,degrees:180/Math.PI,tau:Math.PI*2,e2:Math.E*Math.E,sqr:function(e){return e*e},cube:function(e){return e*e*e},sgn:function(e){return e>0?1:e<0?-1:0},randInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degToRad:function(e){return radians*180/Math.PI},radToDeg:function(e){return degrees*Math.PI/180},sinh:function(e){return((e=Math.exp(e))-1/e)/2},cosh:function(e){return((e=Math.exp(e))+1/e)/2},tanh:function(e){return((e=Math.exp(2*e))-1)/(e+1)}},load:function(){var e="var __gm = jQuery.gekoMath.vals";for(var t in jQuery.gekoMath.vals){e+=", %s = __gm.%s".printf(t,t)}return e+";"}};var matched,browser;jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else if(browser.webkit){browser.safari=true}jQuery.browser=browser;var decodeEntities=function(){function t(t){if(t&&typeof t==="string"){t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,"");t=t.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,"");e.innerHTML=t;t=e.textContent;e.textContent=""}return t}var e=document.createElement("div");return t}();jQuery.decodeEntities=decodeEntities;$.fn.gekoObserver=function(){var e="geko_observer_options";var t="geko_observers";var n=arguments[0];var r=arguments[1];return this.each(function(){var i=$(this);if("string"===$.type(n)){var s=i.data(e);if("register"===n){if(!i.data(t)){i.data(t,[])}if(-1===$.inArray(r,i.data(t))){i.data(t).push(r)}}else if("unregister"===n){if(i.data(t)){var o=$.inArray(r,i.data(t));if(-1!==o){i.data(t).splice(o,1)}}}}else{var s=$.extend({prefix:null,events:null},n);var i=$(this);if(s.events){i.on(s.events,function(){var e=$.makeArray(arguments);var n=e.shift();var r=$(this);var i=r.data(t);$.each(i,function(t,r){var i=n.type;if(s.prefix){i="%s:%s".printf(s.prefix,i)}r.trigger(i,e)})})}i.data(e,s)}})}})(jQuery)