(function(e){function o(e,t){function d(e,t,n){var r,i=u[t];if(typeof i!=="undefined"){r=i-o.getDay();if(r===0){r=7*n}else if(r>0&&e==="last"){r-=7}else if(r<0&&e==="next"){r+=7}o.setDate(o.getDate()+r)}}function v(e){var t=e.split(" "),n=t[0],r=t[1].substring(0,3),i=/\d+/.test(n),s=t[2]==="ago",u=(n==="last"?-1:1)*(s?-1:1);if(i){u*=parseInt(n,10)}if(a.hasOwnProperty(r)&&!t[1].match(/^mon(day|\.)?$/i)){return o["set"+a[r]](o["get"+a[r]]()+u)}if(r==="wee"){return o.setDate(o.getDate()+u*7)}if(n==="next"||n==="last"){d(n,r,u)}else if(!i){return false}return true}var n,r,i,s,o,u,a,f,l,c,h,p=false;if(!e){return p}e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();r=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/);if(r&&r[2]===r[4]){if(r[1]>1901){switch(r[2]){case"-":{if(r[3]>12||r[5]>31){return p}return new Date(r[1],parseInt(r[3],10)-1,r[5],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3};case".":{return p};case"/":{if(r[3]>12||r[5]>31){return p}return new Date(r[1],parseInt(r[3],10)-1,r[5],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3}}}else if(r[5]>1901){switch(r[2]){case"-":{if(r[3]>12||r[1]>31){return p}return new Date(r[5],parseInt(r[3],10)-1,r[1],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3};case".":{if(r[3]>12||r[1]>31){return p}return new Date(r[5],parseInt(r[3],10)-1,r[1],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3};case"/":{if(r[1]>12||r[3]>31){return p}return new Date(r[5],parseInt(r[1],10)-1,r[3],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3}}}else{switch(r[2]){case"-":{if(r[3]>12||r[5]>31||r[1]<70&&r[1]>38){return p}s=r[1]>=0&&r[1]<=38?+r[1]+2e3:r[1];return new Date(s,parseInt(r[3],10)-1,r[5],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3};case".":{if(r[5]>=70){if(r[3]>12||r[1]>31){return p}return new Date(r[5],parseInt(r[3],10)-1,r[1],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3}if(r[5]<60&&!r[6]){if(r[1]>23||r[3]>59){return p}i=new Date;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),r[1]||0,r[3]||0,r[5]||0,r[9]||0)/1e3}return p};case"/":{if(r[1]>12||r[3]>31||r[5]<70&&r[5]>38){return p}s=r[5]>=0&&r[5]<=38?+r[5]+2e3:r[5];return new Date(s,parseInt(r[1],10)-1,r[3],r[6]||0,r[7]||0,r[8]||0,r[9]||0)/1e3};case":":{if(r[1]>23||r[3]>59||r[5]>59){return p}i=new Date;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),r[1]||0,r[3]||0,r[5]||0)/1e3}}}}if(e==="now"){return t===null||isNaN(t)?(new Date).getTime()/1e3|0:t|0}if(!isNaN(n=Date.parse(e))){return n/1e3|0}o=t?new Date(t*1e3):new Date;u={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};a={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};l="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec"+"|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?"+"|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)";c="([+-]?\\d+\\s"+l+"|"+"(last|next)\\s"+l+")(\\sago)?";r=e.match(new RegExp(c,"gi"));if(!r){return p}for(h=0,f=r.length;h<f;h++){if(!v(r[h])){return p}}return o.getTime()/1e3}var t=function(e){e+="";x=e.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var t=/(\d+)(\d{3})/;while(t.test(x1)){x1=x1.replace(t,"$1"+","+"$2")}return x1+x2};String.prototype.addCommas=function(){return t(this)};var n=function(e){return e.replace(/\<br \/>/g,"\n").replace(/\<br>/g,"\n")};var r=function(e){return e.replace(/\n/g,"<br />")};String.prototype.br2nl=function(){return n(this)};String.prototype.nl2br=function(){return r(this)};var i=function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")};String.prototype.convertToSlug=function(){return i(this)};String.prototype.truncate=function(e,t){var n=this.length>e,r=n?this.substr(0,e-1):this;r=t&&n?r.substr(0,r.lastIndexOf(" ")):r;return n?r+"&hellip;":r};var s=function(e){if(typeof e!="string"){throw"sprintf: The first arguments need to be a valid format string."}var t=new RegExp(/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g);var n=[];var r=1;while(part=t.exec(e)){if(r>=arguments.length&&part[8]!="%"){throw"sprintf: At least one argument was missing."}n[n.length]={begin:part.index,end:part.index+part[0].length,sign:part[1]=="+",negative:parseFloat(arguments[r])<0?true:false,padding:part[2]==undefined?" ":part[2].substring(0,1)=="'"?part[3]:part[2],alignLeft:part[4]=="-",width:part[5]!=undefined?part[5]:false,precision:part[7]!=undefined?part[7]:false,type:part[8],data:part[8]!="%"?String(arguments[r++]):false}}var i="";var s=0;for(var o=0;o<n.length;++o){i+=e.substring(s,n[o].begin);s=n[o].end;var u="";switch(n[o].type){case"%":u="%";break;case"b":u=Math.abs(parseInt(n[o].data)).toString(2);break;case"c":u=String.fromCharCode(Math.abs(parseInt(n[o].data)));break;case"d":u=String(Math.abs(parseInt(n[o].data)));break;case"f":u=n[o].precision==false?String(Math.abs(parseFloat(n[o].data))):Math.abs(parseFloat(n[o].data)).toFixed(n[o].precision);break;case"o":u=Math.abs(parseInt(n[o].data)).toString(8);break;case"s":u=n[o].data.substring(0,n[o].precision?n[o].precision:n[o].data.length);break;case"x":u=Math.abs(parseInt(n[o].data)).toString(16).toLowerCase();break;case"X":u=Math.abs(parseInt(n[o].data)).toString(16).toUpperCase();break;default:throw'sprintf: Unknown type "'+n[o].type+'" detected. This should never happen. Maybe the regex is wrong.'}if(n[o].type=="%"){i+=u;continue}if(n[o].width!=false){if(n[o].width>u.length){var a=u.length;for(var f=0;f<n[o].width-a;++f){u=n[o].alignLeft==true?u+n[o].padding:n[o].padding+u}}}if(n[o].type=="b"||n[o].type=="d"||n[o].type=="o"||n[o].type=="f"||n[o].type=="x"||n[o].type=="X"){if(n[o].negative==true){u="-"+u}else if(n[o].sign==true){u="+"+u}}i+=u}i+=e.substring(s,e.length);return i};e.sprintf=s;String.prototype.printf=function(){var e=Array.prototype.slice.call(arguments);e.unshift(String(this));return s.apply(undefined,e)};String.prototype.strtotime=function(e){return o(this,e)}})(window)